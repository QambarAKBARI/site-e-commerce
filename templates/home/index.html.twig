{% extends 'base.html.twig' %}

{% block title %}Hello HomeController!{% endblock %}

{% block body %}
<div class="container"> 


    <div class="products">


    <div class="col-md-3">
        {{ form_start(formSearch)}}
        {{ form_row(formSearch.q)}}
        <h4>Catégories</h4>
        {{ form_row(formSearch.marques)}}
        <h4>Prix</h4>
        <div class="row">
            <div class="col-m-6">
                {{ form_row(formSearch.min)}}
            </div>
        </div>
        <div class="row">
            <div class="col-m-6">
                {{ form_row(formSearch.max)}}
            </div>
        </div>
        <button type="submit" class="btn btn-primary w-100">Filtrer</button>
        {{ form_end(formSearch)}}
    </div>



        {% for produit in produits %}
            <div class="product-item">
                <a href="{{ path('show_produit', {id: produit.id}) }}">
                    <img src="{{ produit.image }}" alt="{{produit.nomProduit}}">
                </a>
                <div class="product-content">
                
                    <a href="{{ path('show_produit', {id: produit.id}) }}"><h4> {{ produit.nomProduit }} </h4></a>
                    <p class="price"> {{ produit.prix|number_format(2, '.', ',') }} € </p>
                    <button>
                        <a class="add-to-cart-btn" href="{{ path('cart_add', {id: produit.id}) }}?returnToHome=true&qtt=1"><i class="fa-solid fa-cart-shopping"></i><span>add to cart</span></a>
                    </button>
                </div>
                
            </div> 
        {% endfor %}

        <div>
            {{ knp_pagination_render(produits) }}
        </div>
    </div>


</div>
{% endblock %}
